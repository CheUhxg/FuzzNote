# 简介

DirtyCred是利用一些原始内核漏洞实现和DirtyPipe相同的效果。
* DirtyCred的利用方式不依赖于Linux的管道机制，而是利用**堆内存破坏漏洞**。
  * 堆内存破坏漏洞需要**将低权限的证书对象替换成高权限的**。
* Linux内核会误认为非特权用户拥有高权限对象的操作许可。

DirtyCred的*技术难点*：
1. 需要将普通漏洞**转换**为对证书对象的交换。
2. 需要为证书对象的交换**延长**时间窗口。
3. 需要让非特权用户能主动分配特权的证书对象。

针对技术难点的*解决方案*：
1. 提供一系列漏洞转换方案。
2. 利用三个内核特性延长时间窗口。
3. 利用多个内核机制派生高权限线程。

DirtyCred的防御方式：
* 在非重叠内存区域分别管理高/低权限对象。
  * 非重叠区域使用的是**虚拟内存**。
  * vmalloc存储高权限对象，kmalloc存储低权限对象。

DirtyCred的*特性*：
1. 是一个通用的漏洞，可以基于任意堆漏洞提权。
2. 很好的迁移性。
3. 能很有效的绕过漏洞防御。
4. 可以实现Android提权和容器逃逸。

